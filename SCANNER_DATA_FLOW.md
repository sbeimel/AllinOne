# ğŸ“Š Scanner Datenfluss - Visuelle Ãœbersicht

## ğŸ—‚ï¸ Datenspeicherung

```
Docker Container: MacReplayXC
â”‚
â”œâ”€â”€ /app/data/                          â† Persistent Volume
â”‚   â”œâ”€â”€ scanner_config.json             â† Scanner Daten
â”‚   â”‚   â”œâ”€â”€ settings                    â† Scanner Settings
â”‚   â”‚   â”œâ”€â”€ found_macs []               â† Alle gefundenen MACs
â”‚   â”‚   â”œâ”€â”€ proxies []                  â† Proxy-Liste
â”‚   â”‚   â””â”€â”€ proxy_sources []            â† Proxy-Quellen
â”‚   â”‚
â”‚   â”œâ”€â”€ MacReplayXC.json                â† MacReplay Daten
â”‚   â”‚   â”œâ”€â”€ portals {}                  â† Alle Portale
â”‚   â”‚   â”œâ”€â”€ settings {}                 â† MacReplay Settings
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ channels.db                     â† Channel Database
â”‚
â””â”€â”€ /app/logs/
    â””â”€â”€ MacReplayXC.log                 â† Logs
```

---

## ğŸ”„ Datenfluss: Scan â†’ Portal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHRITT 1: Scan starten                                        â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  WebUI: http://localhost:8001/scanner                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Portal URL: http://portal.com/c                       â”‚    â”‚
â”‚  â”‚  Mode: Random MACs                                     â”‚    â”‚
â”‚  â”‚  Speed: 10 Threads                                     â”‚    â”‚
â”‚  â”‚  Proxies: (optional)                                   â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  [ğŸš€ Start Scan]                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  POST /scanner/start                                            â”‚
â”‚  {                                                               â”‚
â”‚    "portal_url": "http://portal.com/c",                         â”‚
â”‚    "mode": "random",                                            â”‚
â”‚    "speed": 10,                                                 â”‚
â”‚    "proxies": "..."                                             â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHRITT 2: Scanner lÃ¤uft                                       â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  scanner.py: run_scanner_attack()                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ThreadPoolExecutor (10 Threads)                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ Thread 1: Test MAC 00:1A:79:XX:XX:XX              â”‚    â”‚
â”‚  â”‚  â”œâ”€ Thread 2: Test MAC 00:1A:79:YY:YY:YY              â”‚    â”‚
â”‚  â”‚  â”œâ”€ Thread 3: Test MAC 00:1A:79:ZZ:ZZ:ZZ              â”‚    â”‚
â”‚  â”‚  â””â”€ ...                                                â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  ProxyScorer: Smart Proxy Rotation                     â”‚    â”‚
â”‚  â”‚  Retry Queue: Failed MACs mit anderem Proxy           â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  stb.py: test_mac()                                             â”‚
â”‚  â”œâ”€ getToken()          â†’ Token erhalten?                       â”‚
â”‚  â”œâ”€ getProfile()        â†’ Profil aktiviert?                     â”‚
â”‚  â”œâ”€ getExpires()        â†’ Expiry erhalten?                      â”‚
â”‚  â”œâ”€ getAllChannels()    â†’ Channels laden                        â”‚
â”‚  â””â”€ getGenreNames()     â†’ Genres laden                          â”‚
â”‚                          â†“                                       â”‚
â”‚  Channel Validation:                                            â”‚
â”‚  if channels >= min_channels_for_valid_hit:                     â”‚
â”‚      âœ… HIT!                                                    â”‚
â”‚  else:                                                           â”‚
â”‚      âŒ Invalid                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHRITT 3: Hit gefunden & gespeichert                          â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  scanner.py: add_found_mac()                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  hit_data = {                                          â”‚    â”‚
â”‚  â”‚    "mac": "00:1A:79:XX:XX:XX",                         â”‚    â”‚
â”‚  â”‚    "portal": "http://portal.com/c",                    â”‚    â”‚
â”‚  â”‚    "expiry": "December 31, 2025",                      â”‚    â”‚
â”‚  â”‚    "channels": 1234,                                   â”‚    â”‚
â”‚  â”‚    "genres": ["DE Sport", "DE Movies", ...],          â”‚    â”‚
â”‚  â”‚    "has_de": true,                                     â”‚    â”‚
â”‚  â”‚    "de_genres": ["DE Sport", ...],                    â”‚    â”‚
â”‚  â”‚    "backend_url": "http://backend.com",               â”‚    â”‚
â”‚  â”‚    "username": "user123",                              â”‚    â”‚
â”‚  â”‚    "password": "pass123",                              â”‚    â”‚
â”‚  â”‚    "found_at": "2026-02-07T12:34:56"                  â”‚    â”‚
â”‚  â”‚  }                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  scanner.py: save_scanner_config()                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  /app/data/scanner_config.json                         â”‚    â”‚
â”‚  â”‚  {                                                      â”‚    â”‚
â”‚  â”‚    "settings": { ... },                                â”‚    â”‚
â”‚  â”‚    "found_macs": [                                     â”‚    â”‚
â”‚  â”‚      { hit_data },  â† NEU HINZUGEFÃœGT                 â”‚    â”‚
â”‚  â”‚      ...                                                â”‚    â”‚
â”‚  â”‚    ],                                                   â”‚    â”‚
â”‚  â”‚    "proxies": [ ... ],                                 â”‚    â”‚
â”‚  â”‚    "proxy_sources": [ ... ]                            â”‚    â”‚
â”‚  â”‚  }                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  WebUI: Anzeige in "Found MACs" Tabelle                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Portal          | MAC              | Expiry | ...     â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚
â”‚  â”‚  portal.com      | 00:1A:79:XX:XX:XX| Dec 31 | [Create]â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHRITT 4: Portal erstellen (User klickt "Create Portal")     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  WebUI: createPortal(hit_data)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Confirm: Create portal from MAC 00:1A:79:XX:XX:XX?   â”‚    â”‚
â”‚  â”‚  [OK] [Cancel]                                         â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  POST /scanner/create-portal                                    â”‚
â”‚  {                                                               â”‚
â”‚    "hit_data": { ... }                                          â”‚
â”‚  }                                                               â”‚
â”‚                          â†“                                       â”‚
â”‚  app-docker.py: scanner_create_portal()                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  1. Generate portal name                               â”‚    â”‚
â”‚  â”‚     â†’ "portal.com ğŸ‡©ğŸ‡ª (1234ch)"                       â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  2. Validate MAC                                       â”‚    â”‚
â”‚  â”‚     stb.getToken()   â†’ âœ… Token OK                     â”‚    â”‚
â”‚  â”‚     stb.getExpires() â†’ âœ… Expiry OK                    â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  3. Create portal object                               â”‚    â”‚
â”‚  â”‚     portal_data = {                                    â”‚    â”‚
â”‚  â”‚       "id": uuid.uuid4().hex,                          â”‚    â”‚
â”‚  â”‚       "enabled": "true",                               â”‚    â”‚
â”‚  â”‚       "name": "portal.com ğŸ‡©ğŸ‡ª (1234ch)",              â”‚    â”‚
â”‚  â”‚       "url": "http://portal.com/c",                    â”‚    â”‚
â”‚  â”‚       "macs": {"00:1A:79:XX:XX:XX": "Dec 31, 2025"},  â”‚    â”‚
â”‚  â”‚       "streams per mac": "1",                          â”‚    â”‚
â”‚  â”‚       "scanner_data": { ... }                          â”‚    â”‚
â”‚  â”‚     }                                                   â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  4. Save to MacReplayXC.json                           â”‚    â”‚
â”‚  â”‚     portals[portal_id] = portal_data                   â”‚    â”‚
â”‚  â”‚     savePortals(portals)                               â”‚    â”‚
â”‚  â”‚                                                         â”‚    â”‚
â”‚  â”‚  5. Auto-refresh channels.db                           â”‚    â”‚
â”‚  â”‚     stb.getAllChannels() â†’ Load all channels          â”‚    â”‚
â”‚  â”‚     Save to channels.db                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SCHRITT 5: Portal verfÃ¼gbar                                    â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                  â”‚
â”‚  /app/data/MacReplayXC.json                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  {                                                      â”‚    â”‚
â”‚  â”‚    "portals": {                                        â”‚    â”‚
â”‚  â”‚      "abc123": {                                       â”‚    â”‚
â”‚  â”‚        "enabled": "true",                              â”‚    â”‚
â”‚  â”‚        "name": "portal.com ğŸ‡©ğŸ‡ª (1234ch)",             â”‚    â”‚
â”‚  â”‚        "url": "http://portal.com/c",                   â”‚    â”‚
â”‚  â”‚        "macs": {                                       â”‚    â”‚
â”‚  â”‚          "00:1A:79:XX:XX:XX": "Dec 31, 2025"          â”‚    â”‚
â”‚  â”‚        },                                              â”‚    â”‚
â”‚  â”‚        "scanner_data": {                               â”‚    â”‚
â”‚  â”‚          "channels": 1234,                             â”‚    â”‚
â”‚  â”‚          "genres": [...],                              â”‚    â”‚
â”‚  â”‚          "has_de": true,                               â”‚    â”‚
â”‚  â”‚          "found_at": "2026-02-07T12:34:56"           â”‚    â”‚
â”‚  â”‚        }                                               â”‚    â”‚
â”‚  â”‚      }                                                  â”‚    â”‚
â”‚  â”‚    }                                                    â”‚    â”‚
â”‚  â”‚  }                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  /app/data/channels.db                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  portal | channel_id | name      | genre    | enabled â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚  â”‚  abc123 | 1001       | DE Sport  | Sport    | 0       â”‚    â”‚
â”‚  â”‚  abc123 | 1002       | DE Movies | Movies   | 0       â”‚    â”‚
â”‚  â”‚  ...                                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  WebUI: http://localhost:8001/portals                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Portals                                               â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚
â”‚  â”‚  âœ… portal.com ğŸ‡©ğŸ‡ª (1234ch)                           â”‚    â”‚
â”‚  â”‚     1234 channels | Expiry: Dec 31, 2025              â”‚    â”‚
â”‚  â”‚     [Edit] [Delete] [Download M3U]                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â†“                                       â”‚
â”‚  FERTIG! Portal kann jetzt gestreamt werden! ğŸ‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Zugriff auf Scanner-Daten

### 1. Via Python Code:
```python
import scanner

# Get all found MACs
found_macs = scanner.get_found_macs()
# Returns: [{"mac": "...", "portal": "...", ...}, ...]

# Get scanner settings
settings = scanner.get_scanner_settings()
# Returns: {"speed": 10, "timeout": 10, ...}

# Add found MAC
scanner.add_found_mac(hit_data)
# Saves to /app/data/scanner_config.json

# Clear all found MACs
scanner.clear_found_macs()
```

### 2. Via REST API:
```bash
# Get all found MACs
curl http://localhost:8001/scanner/found-macs

# Get scanner settings
curl http://localhost:8001/scanner/settings

# Update settings
curl -X POST http://localhost:8001/scanner/settings \
  -H "Content-Type: application/json" \
  -d '{"speed": 20, "timeout": 15}'

# Export found MACs
curl http://localhost:8001/scanner/export-found-macs > found_macs.json

# Clear all found MACs
curl -X DELETE http://localhost:8001/scanner/found-macs
```

### 3. Via Config File:
```bash
# Read scanner config
cat /app/data/scanner_config.json | jq

# Edit scanner config
nano /app/data/scanner_config.json

# Backup scanner config
cp /app/data/scanner_config.json /backup/scanner_config_$(date +%Y%m%d).json
```

### 4. Via WebUI:
```
http://localhost:8001/scanner
â”œâ”€ Found MACs Tabelle    â†’ Alle Hits anzeigen
â”œâ”€ Export Button         â†’ JSON Download
â”œâ”€ Clear All Button      â†’ Alle Hits lÃ¶schen
â””â”€ Create Portal Button  â†’ Portal erstellen
```

---

## ğŸ“¦ Backup & Restore

### Backup:
```bash
# Backup Scanner Config
docker cp MacReplayXC:/app/data/scanner_config.json ./backup/

# Backup MacReplay Config
docker cp MacReplayXC:/app/data/MacReplayXC.json ./backup/

# Backup Channels DB
docker cp MacReplayXC:/app/data/channels.db ./backup/

# Backup alles
docker cp MacReplayXC:/app/data ./backup/data_$(date +%Y%m%d)
```

### Restore:
```bash
# Restore Scanner Config
docker cp ./backup/scanner_config.json MacReplayXC:/app/data/

# Restore MacReplay Config
docker cp ./backup/MacReplayXC.json MacReplayXC:/app/data/

# Restore Channels DB
docker cp ./backup/channels.db MacReplayXC:/app/data/

# Container neu starten
docker-compose restart
```

---

## ğŸ¯ Zusammenfassung

### Daten-Locations:
```
/app/data/scanner_config.json    â† Scanner: Settings, Found MACs, Proxies
/app/data/MacReplayXC.json       â† MacReplay: Portals, Settings
/app/data/channels.db            â† Channels fÃ¼r alle Portale
```

### Zugriff:
- âœ… Python Code: `import scanner`
- âœ… REST API: 21 Endpoints
- âœ… Config File: JSON editieren
- âœ… WebUI: `/scanner`

### Workflow:
```
Scan â†’ Hit â†’ Save â†’ Create Portal â†’ Stream
```

**Alles in einem Container, alles persistent, alles zugÃ¤nglich!** ğŸš€
